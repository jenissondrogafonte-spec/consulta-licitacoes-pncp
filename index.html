<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teste Visual</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light p-5">

    <div class="container bg-white p-4 rounded shadow border border-danger">
        <h2 class="text-primary">üîç Painel de Licita√ß√µes (Vers√£o Final)</h2>
        <p>Se voc√™ est√° lendo isso, o HTML funcionou.</p>

        <hr>

        <div class="mb-3">
            <label class="fw-bold">Pesquise aqui:</label>
            <input type="text" id="campoBusca" class="form-control" placeholder="Digite o nome da empresa...">
        </div>

        <div class="table-responsive">
            <table class="table table-bordered table-striped">
                <thead class="table-dark">
                    <tr>
                        <th>Data</th>
                        <th>√ìrg√£o</th>
                        <th>Fornecedor</th>
                        <th>Total (R$)</th>
                    </tr>
                </thead>
                <tbody id="tabelaDados">
                    </tbody>
            </table>
        </div>
        
        <div id="status" class="alert alert-warning">
            ‚è≥ Tentando ler o arquivo dados.json...
        </div>

    </div>

    <script>
        fetch('dados.json')
            .then(res => {
                if (!res.ok) throw new Error("Arquivo n√£o encontrado (404)");
                return res.json();
            })
            .then(data => {
                const tbody = document.getElementById('tabelaDados');
                const status = document.getElementById('status');
                
                // Limpa e avisa sucesso
                status.className = 'alert alert-success';
                status.innerHTML = `‚úÖ Sucesso! Encontrei ${data.length} registros de ontem.`;

                // Preenche tabela
                data.forEach(item => {
                    tbody.innerHTML += `
                        <tr>
                            <td>${item.Data_Homologacao}</td>
                            <td>${item.Orgao_Codigo}</td>
                            <td>${item.Fornecedor}</td>
                            <td>R$ ${item['Total_Ganho_R$']}</td>
                        </tr>
                    `;
                });
            })
            .catch(err => {
                document.getElementById('status').className = 'alert alert-danger';
                document.getElementById('status').innerHTML = `‚ùå Erro: ${err.message}. <br>O Rob√¥ (Actions) rodou e ficou verde?`;
            });
    </script>
</body>
</html>
